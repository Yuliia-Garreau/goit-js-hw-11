{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/img/error.png","../src/main.js"],"sourcesContent":["// зберігай функції для HTTP - запитів.\n\n// import inputValue from \".//m\"\n\n\nexport const fetchImages = (search) => {\n\n    const searchParams = new URLSearchParams({\n        key: \"47281419-922d6d2c66ee391f8ff42b6d3\", \n        q: search,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true,\n    });\n  \n \n    const url = `https://pixabay.com/api/?${searchParams}`;\n    \n    const options = {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        Host: 'http://localhost:5173',\n        Origin: 'https://pixabay.com/api',\n      },\n    };\n\n  return fetch(\n    url, options)\n    .then((response) => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n\n\n\n","// створи функції для відображення елементів інтерфейсу.\n\n// function createMarkup() {\n\n// }\n\n// export const renderImages = images => {\n//   return images\n//     .map(\n//       image => `\n//     <li class='gallery-item'>\n//       <a href=${image.largeImageURL}>\n//         <img alt=${image.tags} src=${image.webformatURL} class='gallery-image'/>\n//       </a>\n\nexport const renderImages = (images) => {\n        return images\n      .map(\n        image => `\n          <li class=\"item-gallery\">\n          <a class=\"link-gallery\" href=\"${image.largeImageURL}\">\n            <img  \n            src=\"${image.webformatURL}\"\n            class=\"img-gallery\"\n               \n              alt=\"${image.tags}\"\n              title=\"\"\n            />\n          \n            <ul class=\"list-info\">\n              \n            <li class=\"list-item-info\">\n                <p class=\"info-title\">Likes</p>\n                <p class=\"info-value\">${image.likes}</p>\n            </li>\n\n              <li class=\"list-item-info\">\n                <p class=\"info-title\">Views</p>\n                <p class=\"info-value\">${image.views}</p>\n              </li>\n\n              <li class=\"list-item-info\">\n                <p class=\"info-title\">Comments</p>\n                <p class=\"info-value\">${image.comments}</p>\n              </li>\n\n              <li class=\"list-item-info\">\n                <p class=\"info-title\">Downloads</p>\n                <p class=\"info-value\">${image.downloads}</p>\n              </li>\n\n            </ul>\n            </a>\n          </li>\n        \n      `)\n    .join(\"\");\n}\n\n// {\n//src \"webformatURL\": \"https://pixabay.com/get/g836fdef8f051e950db41d2f551acecd2701bd5d847f859e1449b4a34561997fe8e045015cc53aff6842324b54753bd512cd869e4cda38e7a5d3b79001e604ee8_640.jpg\",\n//href \"largeImageURL\": \"https://pixabay.com/get/g63cd19c97221e6e15a821bfe54e56393e6e786f2f49f0cb21c05f41ceb54a547593d524f105508de0d3bc050e297f957d94ee8ffdba49a5aa345c7ba1bcb0cf8_1280.jpg\",\n//alt \"tags\": \"cat, animal, nature\",\n// \"likes\": 1990,\n// \"views\": 868179,\n// \"comments\": 336,\n// \"downloads\": 543018,\n// },\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAETSURBVHgBrVVbDoJADCwEwq83kaN4I+UkHgGP4mH4YTGslFBB2e0UYZImG9rO7KMtRBG0bXd1rvMW49gYTxYjTxK6eU+PNKUnKeh7Kjl2yKGiyCtCmHf+upMRHItO8je5WWQPORQ5gjwqopE7586YcB3zJTIt6kBiiR5ONtc0TRnw1ewbBbouTMLfYyJCjnJVgZgIIl/mZQSQ53k1BPNybCYGNxYb+1A+FPgVEQELOSMlI4aREFwjmE4gs4lt+mSePVBgSS7XsnwTKKJVg1YtWgkv/bDRLKWoNpoEDYShUVESQChGRsVnc5rIVqzIBUeIRMmPEIHke0Q08lUfyFjwPuE6P1l++kT+smV8jJhPgk27ljfw3ToafivEMQAAAABJRU5ErkJggg==\"","// напиши всю логіку роботи додатка.\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\nimport error from \"./img/error.png\"\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryLargeImage = new SimpleLightbox('.item-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 300,\n  className: 'bg-color',\n});\n\n\nconst form = document.querySelector('.form-search');\nconst gallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector(\".loader\");\n\niziToast.settings({\n  timeout: 1000,\n  position: 'topRight',\n  });\n\n  loader.style.display = 'none';\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  let inputValue = event.target.elements.input.value.trim();\n  // loader.style.display = 'block';\n\n  if (inputValue === '') {\n    loader.style.display = 'none';\n    iziToast.warning({\n      title: 'Caution',\n      message: 'The field is empty, please type your request',\n  });\n  \n    return ;\n  }\n  if (inputValue) {\n    loader.style.display = 'block';\n  }\n  \n\n    fetchImages(inputValue)\n      .then((response) => {\n  if (response.total === 0) { \n    gallery.innerHTML = \"\";\n      throw new Error();\n      }\n      \n      loader.style.display = 'none';\n    return response.hits;\n  })\n      .then((images) => {\n        gallery.innerHTML = \"\";\n        loader.style.display = 'none';\n                \n        gallery.innerHTML = renderImages(images);\n        inputValue = \"\";\n        galleryLargeImage.refresh();\n      }\n      )\n      .catch(() => {\n        loader.style.display = 'none';\n        iziToast.error ({\n        iconUrl: error,\n        titleColor: '#fff',\n        messageColor: '#fff',\n        imageWidth: 24,\n        iconColor: '#fff',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n      })}\n        )\n        .finally(() => {\n          event.target.elements.input.value = \"\";\n          })\n\n          \n          \n}   "],"names":["fetchImages","search","url","response","renderImages","images","image","error","galleryLargeImage","SimpleLightbox","form","gallery","loader","iziToast","handleSubmit","event","inputValue"],"mappings":"6vBAKO,MAAMA,EAAeC,GAAW,CAWnC,MAAMC,EAAM,4BATS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CAGmD,GAWtD,OAAO,MACLC,EAVgB,CACd,OAAQ,MACR,QAAS,CACP,OAAQ,mBACR,KAAM,wBACN,OAAQ,yBACT,CACP,CAGgB,EACX,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECpBaC,EAAgBC,GACdA,EACR,IACCC,GAAS;AAAA;AAAA,0CAEyBA,EAAM,aAAa;AAAA;AAAA,mBAE1CA,EAAM,YAAY;AAAA;AAAA;AAAA,qBAGhBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAQSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAOhD,EACF,KAAK,EAAE,ECxDGC,EAAA,yhBCUTC,EAAoB,IAAIC,EAAe,kBAAmB,CAC9D,aAAc,MACd,aAAc,IACd,UAAW,UACb,CAAC,EAGKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/CC,EAAS,SAAS,CAChB,QAAS,IACT,SAAU,UACZ,CAAG,EAEDD,EAAO,MAAM,QAAU,OAEzBF,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,IAAIC,EAAaD,EAAM,OAAO,SAAS,MAAM,MAAM,OAGnD,GAAIC,IAAe,GAAI,CACrBJ,EAAO,MAAM,QAAU,OACvBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8CACf,CAAG,EAEC,MACD,CACGG,IACFJ,EAAO,MAAM,QAAU,SAIvBZ,EAAYgB,CAAU,EACnB,KAAMb,GAAa,CACxB,GAAIA,EAAS,QAAU,EACrB,MAAAQ,EAAQ,UAAY,GACZ,IAAI,MAGV,OAAAC,EAAO,MAAM,QAAU,OAClBT,EAAS,IACpB,CAAG,EACI,KAAME,GAAW,CAChBM,EAAQ,UAAY,GACpBC,EAAO,MAAM,QAAU,OAEvBD,EAAQ,UAAYP,EAAaC,CAAM,EACvCW,EAAa,GACbR,EAAkB,QAAO,CAC1B,CACA,EACA,MAAM,IAAM,CACXI,EAAO,MAAM,QAAU,OACvBC,EAAS,MAAO,CAChB,QAASN,EACT,WAAY,OACZ,aAAc,OACd,WAAY,GACZ,UAAW,OACX,QAAS,0EACjB,CAAO,CAAC,CACC,EACA,QAAQ,IAAM,CACbQ,EAAM,OAAO,SAAS,MAAM,MAAQ,EAC9C,CAAW,CAIX"}